<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/chat.css">
  <title>general - michi</title>
  <link rel="icon" href="/assets/logo.png">

  <link rel="apple-touch-icon" href="/assets/logo.png">

  <meta name="title" content="Michi">
  <meta name="description" content="Michi - minimal web chat for your needs.">

  <meta property="og:type" content="website">
  <meta property="og:url" content="https://">
  <meta property="og:title" content="Michi">
  <meta property="og:description" content="Michi - minimal web chat for your needs.">
  <meta property="og:image" content="/assets/logo.png">

  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://">
  <meta property="twitter:title" content="Michi">
  <meta property="twitter:description" content="Michi - minimal web chat for your needs.">
  <meta property="twitter:image" content="/assets/logo.png">
  <style>
    .shade,
    .mainmenu,
    .plistmenu {
      display: none;
    }
  </style>
</head>

<body>
  <noscript>
    <style>
      main,
      .shade {
        display: none;
      }

      h1 {
        text-align: center;
      }
    </style>
    <h1>Sorry, but you need to enable JavaScript in your browser.</h1>
  </noscript>
  <script>
    if (!window.localStorage)
      alert('Sorry but Michi required access to localStorage to read user config');

    if (!window.localStorage.getItem('michi_nname') || !window.localStorage.getItem('michi_email'))
      window.location.href = '/join.html';
  </script>
  <div class="shade"></div>
  <main>
    <div class="plistmenu">
      <h3>
        <span id="plist_memberscount">Total 0 members</span>
        <i class="mi closebtn" id="plmenuCloseBtn">close</i>
      </h3>
      <br>
      <div class="plmembers" id="plmembers"></div>
    </div>
    <div class="mainmenu">
      <h2>
        Menu
        <i class="mi closebtn" id="mmenuCloseBtn">close</i>
      </h2>
      <details id="mainmenu_servers">
        <summary>Servers</summary>
        <div id="mainmenu-channels_channelslist"></div>
      </details>
      <br>
      <details id="mainmenu_settings">
        <summary>Settings</summary>
        <label for="settings_theme" class="menu_label">Enable light theme</label>
        <input type="checkbox" name="settings_theme" id="settings_theme">
        <br>
        <label for="settings_bradius" class="menu_label">Enable circled elements</label>
        <input type="checkbox" name="settings_bradius" id="settings_bradius">
        <br>
        <label for="settings_font" class="menu_label">Font:</label>
        <select id="settings_font" name="settings_font" autocomplete="off" data-font="'Noto Sans', sans-serif">
          <option value="'Noto Sans', sans-serif" selected="">Noto Sans</option>
          <option value="'Roboto Mono', monospace">Roboto Mono</option>
        </select>
      </details>
    </div>

    <header>
      <i class="mi menubtn" id="openMenu">menu</i>
      <span class="header_chname">Michi</span>
      <i class="mi plbtn" id="openplistMenu">people</i>
    </header>
    <div class="emptych">
      <img src="./assets/poggers.jpg" alt="Welcome to Michi!" class="emptych_img">
      <h2>It's lonely in <span class="mention" id="emptych_chname">Michi</span>...</h2>
      <p class="subtitle" style="margin-top: 1em;">
        Maybe you could try sending some messages?
      </p>
    </div>

    <div class="msgbox_emojiMenu" id="emojiMenu">
      <h1>Emoji&nbsp;<span style="user-select: none; cursor: pointer;"
          onclick="$('#emojiMenu').style.display = 'none'; $('.shade').style.display = 'none';">&times;</span></h1>
      <br>
      <div id="emojiMenu_emoji"></div>
    </div>

    <div class="messages"></div>
    <div class="msgbox">
      <p class="msgbox_fileuploadProgress" id="fileUploadProgress">Uploading : 0%</p>
      <br>
      <textarea type="text" id="msginput" class="msgbox_input" autocomplete="off" maxlength="216"
        placeholder="Enter message to Michi here"></textarea>

      <input type="file" name="mfileupload" id="mfileuploadform" autocomplete="off">

      <button class="selectFileBtn" id="fileselectBtn"><i class="mi">attachment</i></button>
      <button id="sendmsgBtn">
        <i class="mi">send</i>
      </button>
      <button id="emojiBtn" class="selectEmojiBtn"><i class="mi">face</i></button>
    </div>
  </main>
  <script src="./js/chat.js"></script>
  <script src="./js/chatmisc.js"></script>
</body>

</html>